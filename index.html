<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>BurnBuddy TV</title>
    <style>
        body { background: #222; color: white; text-align: center; font-family: sans-serif; display: flex; flex-direction: column; justify-content: center; height: 100vh; margin: 0; }
        h1 { font-size: 3rem; }
        #status { font-size: 2rem; color: #ffeb3b; margin-top: 20px; }
        #video-container { width: 80%; margin: 0 auto; background: #000; height: 300px; display: flex; align-items: center; justify-content: center; border-radius: 15px; border: 2px solid #444; }
    </style>
</head>
<body>

    <h1>BurnBuddy ğŸ”¥ å®¢å»³ç‡ƒè„‚ä¸­</h1>
    <div id="video-container">
        <h2 id="msg">ç­‰å¾…æ‰‹æ©ŸæŒ‡ä»¤...</h2>
    </div>
    <div id="status">ç›®å‰ç‹€æ…‹ï¼šå¾…æ©Ÿ</div>

    <script type="module">
        // å¼•ç”¨æœ€æ–°ç‰ˆ (12.6.0) çš„ Firebase SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

        // ä½ çš„å°ˆå±¬è¨­å®š (æˆ‘ç›´æ¥å¹«ä½ å¡«å¥½äº†)
        const firebaseConfig = {
            apiKey: "AIzaSyDjWvhVo6EM0cW_TDYVehzXcuovuU0lqOs",
            authDomain: "burnbuddy-d68c2.firebaseapp.com",
            databaseURL: "https://burnbuddy-d68c2-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "burnbuddy-d68c2",
            storageBucket: "burnbuddy-d68c2.firebasestorage.app",
            messagingSenderId: "519617766080",
            appId: "1:519617766080:web:ef9c04ea8e3d4d8c218325"
        };

        // åˆå§‹åŒ– Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // ç›£è½è³‡æ–™åº«è®ŠåŒ–
        const statusRef = ref(db, 'command');
        onValue(statusRef, (snapshot) => {
            const data = snapshot.val();
            const display = document.getElementById('status');
            const container = document.getElementById('video-container');
            const msg = document.getElementById('msg');
            
            console.log("æ”¶åˆ°æŒ‡ä»¤:", data); // åœ¨ Console é¡¯ç¤ºæ”¶åˆ°çš„æŒ‡ä»¤æ–¹ä¾¿é™¤éŒ¯

            if (data === 'play') {
                display.innerText = "ç‹€æ…‹ï¼šé–‹å§‹ç‡ƒè„‚ï¼GO GO GOï¼";
                container.style.backgroundColor = "green";
                msg.innerText = "â–¶ï¸ æ’­æ”¾ä¸­";
            } else if (data === 'pause') {
                display.innerText = "ç‹€æ…‹ï¼šä¼‘æ¯ä¸€ä¸‹ (æš«åœ)";
                container.style.backgroundColor = "red";
                msg.innerText = "â¸ï¸ å·²æš«åœ";
            } else if (data === 'kuikui') {
                display.innerText = "ç‹€æ…‹ï¼šå¥å¥å¥½æ£’ï¼(ğŸŒŸæ˜Ÿæ˜Ÿç‰¹æ•ˆğŸŒŸ)";
                container.style.backgroundColor = "gold";
                msg.innerText = "ğŸŒŸ çå‹µæ™‚é–“ ğŸŒŸ";
                // 3ç§’å¾Œè‡ªå‹•è®Šå›åŸç‹€
                setTimeout(() => { container.style.backgroundColor = "#000"; }, 3000);
            }
        });
    </script>
</body>
</html>
